# confy-python

Official Confy API library client for python

__This library is generated by [alpaca](https://github.com/pksunkara/alpaca)__

## Installation

Make sure you have [pip](https://pypi.python.org/pypi/pip) installed

```bash
$ pip install confyio
```

#### Versions

Works with [ 2.6 / 2.7 / 3.2 / 3.3 ]

## Usage

```python
import confy

# Then we instantiate a client (as shown below)
```

### Build a client

__Using this api without authentication gives an error__

##### Basic authentication

```python
auth = { 'username': 'pksunkara', 'password': 'password' }

client = confy.Client(auth, client_options)
```

### Client Options

The following options are available while instantiating a client:

 * __base__: Base url for the api
 * __api_version__: Default version of the api (to be used in url)
 * __user_agent__: Default user-agent for all requests
 * __headers__: Default headers for all requests
 * __request_type__: Default format of the request body

### Response information

__All the callbacks provided to an api call will recieve the response as shown below__

```python
response = client.klass('args').method('args', method_options)

response.code
# >>> 200

response.headers
# >>> {'x-server': 'apache'}
```

##### JSON response

When the response sent by server is __json__, it is decoded into a dict

```python
response.body
# >>> {'user': 'pksunkara'}
```

### Method Options

The following options are available while calling a method of an api:

 * __api_version__: Version of the api (to be used in url)
 * __headers__: Headers for the request
 * __query__: Query parameters for the url
 * __body__: Body of the request
 * __request_type__: Format of the request body

### Request body information

Set __request_type__ in options to modify the body accordingly

##### RAW request

When the value is set to __raw__, don't modify the body at all.

```python
body = 'username=pksunkara'
# >>> 'username=pksunkara'
```

##### JSON request

When the value is set to __json__, JSON encode the body.

```python
body = {'user': 'pksunkara'}
# >>> '{"user": "pksunkara"}'
```

### Authenticated User api

User who is authenticated currently.

```python
user = client.user()
```

##### Retrieve authenticated user (GET /user)

Get the authenticated user's info.

```python
response = user.retrieve(options)
```

##### Update authenticated user (PATCH /user)

Update the authenticated user's profile

The following arguments are required:

 * __email__: Profile email of the user

```python
response = user.update("john@smith.com", options)
```

### Organizations api

Organizations are owned by users and only (s)he can add/remove teams and projects for that organization. A default organization will be created for every user.

```python
orgs = client.orgs()
```

##### List Organizations (GET /orgs)

List all organizations the authenticated user is a member of.

```python
response = orgs.list(options)
```

##### Retrieve an organization (GET /orgs/:org)

Get an organization the user has access to.

The following arguments are required:

 * __org__: Name of the organization

```python
response = orgs.retrieve("bigcompany", options)
```

##### Update an organization (PATCH /orgs/:org)

Update an organization the user is owner of.

The following arguments are required:

 * __org__: Name of the organization
 * __email__: Billing email of the organization

```python
response = orgs.update("bigcompany", "admin@bigcompany.com", options)
```

## Contributors
Here is a list of [Contributors](https://github.com/asm-products/confy-python/contributors)

### TODO

## License
BSD

## Bug Reports
Report [here](https://github.com/asm-products/confy-python/issues).

## Contact
Pavan Kumar Sunkara (pavan.sss1991@gmail.com)
